{
  "_comment": "BATTLE TEST CONFIG - $5 USD on GOLD# - Apex Predator Survival Mode",
  "_test_type": "Extreme adversity - Capital recovery challenge",
  "orphan_trades": {
    "enabled": true,
    "adopt_symbols": [
      "BTCUSD#",
      "XAUUSD#",
      "Gold#"
    ],
    "ignore_symbols": [],
    "max_adoption_age_hours": 24,
    "min_age_seconds": 10,
    "min_volume": 0.01,
    "max_volume": 1.0,
    "apply_emergency_sl": true,
    "emergency_sl_points": 500,
    "apply_emergency_tp": false,
    "log_only": false
  },
  "mt5": {
    "login": 331781108,
    "password": "${MT5_PASSWORD}",
    "server": "XMGlobal-MT5 9",
    "timeout": 60000,
    "path": "C:\\Program Files\\MetaTrader 5\\terminal64.exe"
  },
  "risk": {
    "max_position_size": 0.01,
    "default_position_size": 0.01,
    "max_daily_loss": 2.5,
    "max_positions_per_symbol": 1,
    "max_total_positions": 1,
    "position_size_pct": 5.0,
    "use_kelly_sizing": false,
    "emergency_stop_loss_pct": 40.0,
    "circuit_breaker_enabled": true,
    "circuit_breaker_threshold_pct": 30.0,
    "survival_mode_enabled": true,
    "survival_threshold_pct": 50.0,
    "min_balance_threshold": 1.0,
    "negative_balance_action": "halt"
  },
  "profit_scaling": {
    "enabled": true,
    "micro_account_threshold": 100.0,
    "min_profit_amount": 0.05,
    "emergency_lock_threshold_pct": 0.08,
    "micro_tiers": [
      {
        "profit_threshold_pct": 0.10,
        "close_pct": 0.35,
        "move_sl_to_entry": true,
        "trail_pct": 0.40
      },
      {
        "profit_threshold_pct": 0.20,
        "close_pct": 0.40,
        "move_sl_to_entry": true,
        "trail_pct": 0.50
      },
      {
        "profit_threshold_pct": 0.35,
        "close_pct": 0.50,
        "move_sl_to_entry": true,
        "trail_pct": 0.60
      }
    ],
    "tiers": [
      {
        "profit_threshold_pct": 0.25,
        "close_pct": 0.25,
        "move_sl_to_entry": true,
        "trail_pct": 0.50
      },
      {
        "profit_threshold_pct": 0.50,
        "close_pct": 0.35,
        "move_sl_to_entry": true,
        "trail_pct": 0.60
      },
      {
        "profit_threshold_pct": 0.80,
        "close_pct": 0.50,
        "move_sl_to_entry": true,
        "trail_pct": 0.70
      }
    ]
  },
  "trading": {
    "symbol": "BTCUSD#",
    "timeframe": "TIMEFRAME_M5",
    "poll_interval": 10,
    "lookback_bars": 500,
    "enable_tick_data": true,
    "enable_scalping": true,
    "mindset": "ultra_aggressive"
  },
  "strategy": {
    "type": "dynamic",
    "dynamic_selection": {
      "enabled": true,
      "regime_check_interval": 120,
      "min_strategy_signals": 2,
      "performance_weight": 0.35,
      "regime_weight": 0.35,
      "confidence_weight": 0.30
    },
    "strategies": [
      {
        "type": "rsi_reversal",
        "params": {
          "rsi_period": 14,
          "rsi_extreme_oversold": 32,
          "rsi_extreme_overbought": 78,
          "atr_multiplier": 1.0,
          "risk_reward_ratio": 2.5,
          "cooldown_bars": 3,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "ema_crossover",
        "params": {
          "fast_period": 5,
          "slow_period": 13,
          "atr_period": 14,
          "atr_multiplier": 1.0,
          "risk_reward_ratio": 2.5,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "scalping",
        "params": {
          "fast_ema": 3,
          "slow_ema": 8,
          "rsi_period": 7,
          "rsi_oversold": 25,
          "rsi_overbought": 75,
          "atr_multiplier": 0.8,
          "risk_reward_ratio": 2.0,
          "spread_limit_pips": 5.0,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "momentum_breakout",
        "params": {
          "lookback_period": 10,
          "rsi_threshold": 45,
          "atr_multiplier": 1.0,
          "volume_multiplier": 1.2,
          "risk_reward_ratio": 2.5,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "mean_reversion",
        "params": {
          "bollinger_period": 20,
          "bollinger_std": 2.0,
          "rsi_period": 14,
          "rsi_oversold": 35,
          "rsi_overbought": 65,
          "atr_multiplier": 1.0,
          "risk_reward_ratio": 2.0,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "trend_following",
        "params": {
          "adx_threshold": 18,
          "ema_period": 13,
          "atr_period": 14,
          "atr_multiplier": 1.0,
          "risk_reward_ratio": 2.0,
          "symbol": "BTCUSD#"
        }
      },
      {
        "type": "sma_crossover",
        "params": {
          "fast_period": 5,
          "slow_period": 13,
          "atr_period": 14,
          "atr_multiplier": 1.0,
          "risk_reward_ratio": 2.0,
          "symbol": "BTCUSD#"
        }
      }
    ]
  },
  "confidence_threshold": 0.20,
  "exit_strategies": [
    {
      "type": "aggressive_scaling",
      "enabled": true,
      "params": {
        "tier_1_profit_pct": 0.10,
        "tier_2_profit_pct": 0.20,
        "tier_3_profit_pct": 0.35,
        "tier_1_close_pct": 35.0,
        "tier_2_close_pct": 40.0,
        "tier_3_close_pct": 60.0,
        "micro_tier_1_pct": 0.08,
        "micro_tier_2_pct": 0.15,
        "micro_tier_3_pct": 0.25,
        "volatility_adjust": true,
        "momentum_adjust": true
      }
    },
    {
      "type": "micro_account_protection",
      "enabled": true,
      "params": {
        "micro_account_threshold": 100.0,
        "small_account_threshold": 500.0,
        "micro_profit_target_pct": 0.5,
        "small_profit_target_pct": 1.0,
        "equity_gain_lock_pct": 50.0,
        "equity_drop_exit_pct": 20.0
      }
    },
    {
      "type": "survival_mode",
      "enabled": true,
      "params": {
        "critical_balance": 2.0,
        "survival_margin_pct": 30.0
      }
    },
    {
      "type": "adverse_movement",
      "enabled": true,
      "params": {
        "movement_threshold_pct": 0.8,
        "time_window_seconds": 45
      }
    },
    {
      "type": "time_based",
      "enabled": true,
      "params": {
        "max_hold_hours": 2.0,
        "close_before_weekend": true
      }
    },
    {
      "type": "profit_target",
      "enabled": true,
      "params": {
        "target_pct": 2.0,
        "partial_close_enabled": false
      }
    },
    {
      "type": "trailing_stop",
      "enabled": true,
      "params": {
        "atr_multiplier": 1.2,
        "activation_pct": 0.8
      }
    }
  ],
  "indicators": [
    {
      "type": "rsi",
      "params": {
        "period": 14
      }
    },
    {
      "type": "rsi",
      "params": {
        "period": 7
      }
    },
    {
      "type": "macd",
      "params": {
        "fast_period": 12,
        "slow_period": 26,
        "signal_period": 9
      }
    },
    {
      "type": "bollinger",
      "params": {
        "period": 20,
        "std_dev": 2.0
      }
    },
    {
      "type": "adx",
      "params": {
        "period": 14
      }
    },
    {
      "type": "atr",
      "params": {
        "period": 14
      }
    },
    {
      "type": "supertrend",
      "params": {
        "period": 10,
        "multiplier": 3.0
      }
    },
    {
      "type": "vwap",
      "params": {
        "std_dev_multiplier": 2.0
      }
    }
  ],
  "observability": {
    "prometheus": {
      "enabled": true,
      "prefix": "cthulu",
      "mode": "http",
      "http_port": 8181
    }
  }
}